{"version":3,"sources":["components/HomePage/HomePage.tsx","components/Header/Header.tsx","components/NotFoundPage/NotFoundPage.tsx","api.ts","components/PeopleTable/PeopleTable.tsx","components/Sidebar/Sidebar.tsx","components/PeoplePage/PeoplePage.tsx","App.tsx","index.tsx"],"names":["HomePage","Header","className","exact","to","activeClassName","NotFoundPage","getPeople","a","fetch","people","json","PeopleTable","props","selectPerson","tableHead","Object","keys","filter","key","map","item","person","name","type","onClick","sex","born","died","motherName","some","woman","mother","fatherName","man","father","Sidebar","selectedPerson","PeoplePage","useState","setPeople","setSelectedPerson","addParentsToPeople","find","useEffect","loadPeople","color","App","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3afd9334.chunk.js","sourcesContent":["import React from 'react';\n\nexport const HomePage: React.FC = () => (\n  <h1>Home Page</h1>\n);\n","import React from 'react';\nimport { NavLink } from \"react-router-dom\";\n\nexport const Header: React.FC = () => {\n  return (\n    <nav className=\"navbar is-fixed-top mb-4 has-background-warning\">\n      <div className=\"navbar-start\">\n        <NavLink\n          exact\n          to=\"/\"\n          className=\"navbar-item is-tab\"\n          activeClassName=\"is-active\"\n        >\n          Home\n        </NavLink>\n        <NavLink\n          to=\"/people\"\n          className=\"navbar-item is-tab\"\n          activeClassName=\"is-active\"\n        >\n          People Page\n        </NavLink>\n      </div>\n    </nav>\n  );\n}\n","import React from 'react';\n\nexport const NotFoundPage: React.FC = () => (\n  <h1>Not Found Page</h1>\n);\n","const URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nexport const getPeople = async (): Promise<Person[]> => {\n  const people = await fetch(URL);\n\n  return people.json();\n}\n","import React from 'react';\n\ninterface Props {\n  people: Person[];\n  selectPerson: (person: Person) => void;\n}\n\nexport const PeopleTable: React.FC<Props> = (props) => {\n  const { people, selectPerson } = props;\n\n  const tableHead: string[] = Object.keys(people[0])\n    .filter(key => key !== 'fatherName'\n      && key !== 'motherName'\n      && key !== 'slug');\n\n  return (\n    <table className=\"table is-striped is-bordered mb-6 myTable\">\n      <thead>\n        <tr>\n          {tableHead.map(item => (\n            <th key={item}>\n              {item}\n            </th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {people.map(person => (\n          <tr key={person.name}>\n            <td>\n              <button\n                className=\"button is-ghost p-0\"\n                type=\"button\"\n                onClick={() => selectPerson(person)}\n              >\n                {person.name}\n              </button>\n            </td>\n            <td>{person.sex}</td>\n            <td>{person.born}</td>\n            <td>{person.died}</td>\n            <td>\n              {person.motherName\n                ? people.some(woman => woman.name === person.motherName)\n                  ? <>\n                      <button\n                        className=\"button is-ghost p-0\"\n                        type=\"button\"\n                        onClick={() => selectPerson(person.mother as Person)}\n                      >\n                        {person.motherName}\n                      </button>\n                    </>\n                  : <p>{person.motherName}</p>\n                : <p>Unknown</p>}\n            </td>\n            <td>\n              {person.fatherName\n                ? people.some(man => man.name === person.fatherName)\n                  ? <>\n                      <button\n                        className=\"button is-ghost p-0\"\n                        type=\"button\"\n                        onClick={() => selectPerson(person.father as Person)}\n                      >\n                        {person.fatherName}\n                      </button>\n                    </>\n                  : <p>{person.fatherName}</p>\n                : <p>Unknown</p>}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n","import React from 'react';\n\ninterface Props {\n  selectedPerson: Person;\n  selectPerson: (person: Person) => void;\n  people: Person[];\n}\n\nexport const Sidebar: React.FC<Props> = (props) => {\n  const { selectedPerson, selectPerson, people } = props;\n\n  return (\n    <div>\n      <h2 className=\"subtitle\">Selected Person:</h2>\n      <ul>\n        <li>Name: {selectedPerson.name}</li>\n        <li>Sex: {selectedPerson.sex}</li>\n        <li>Born year: {selectedPerson.born}</li>\n        <li>Died year: {selectedPerson.died}</li>\n        <li>\n          {selectedPerson.motherName\n            ? people.some(woman => woman.name === selectedPerson.motherName)\n              ? <>\n                  <button\n                    className=\"button is-ghost p-0\"\n                    type=\"button\"\n                    onClick={() => selectPerson(selectedPerson.mother as Person)}\n                  >\n                    {`Mother: ${selectedPerson.motherName}`}\n                  </button>\n                </>\n              : <p>{`Mother: ${selectedPerson.motherName}`}</p>\n            : <p>Unknown</p>}\n        </li>\n        <li>\n          {selectedPerson.fatherName\n            ? people.some(man => man.name === selectedPerson.fatherName)\n              ? <>\n                  <button\n                    className=\"button is-ghost p-0\"\n                    type=\"button\"\n                    onClick={() => selectPerson(selectedPerson.father as Person)}\n                  >\n                    {`Father: ${selectedPerson.fatherName}`}\n                  </button>\n                </>\n              : <p>{`Father: ${selectedPerson.fatherName}`}</p>\n            : <p>Unknown</p>}\n        </li>\n      </ul>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport Loader from 'react-loader-spinner';\nimport { getPeople } from '../../api';\nimport { PeopleTable } from '../PeopleTable/PeopleTable';\nimport { Sidebar } from '../Sidebar/Sidebar';\n\nexport const PeoplePage: React.FC = () => {\n  const [people, setPeople] = useState<Person[] | null>(null);\n  const [selectedPerson, setSelectedPerson] = useState<Person | null>(null);\n  const addParentsToPeople = (people: Person[]) => {\n    const peopleWithParents = people.map(person => {\n      person.mother = people.find(woman => woman.name === person.motherName) || null;\n      person.father = people.find(man => man.name === person.fatherName) || null;\n\n      return person;\n    })\n\n    return peopleWithParents;\n  };\n\n  useEffect(() => {\n    const loadPeople = async () => {\n      let people = await getPeople();\n      setPeople(addParentsToPeople(people));\n    }\n\n    loadPeople()\n  }, []);\n\n  const selectPerson = (person: Person) => {\n    setSelectedPerson(person);\n  };\n\n  return (\n    <div className=\"media\">\n      <div className=\"media-container\">\n        {people\n          ? <PeopleTable people={people} selectPerson={selectPerson} />\n          : <Loader type=\"Rings\" color=\"blue\" />}\n      </div>\n      <div className=\"media-right\">\n        {selectedPerson\n          ? <Sidebar\n            selectedPerson={selectedPerson as Person}\n            selectPerson={selectPerson}\n            people={people as Person[]}\n          />\n          : <p>Choose the person</p>}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router';\n\nimport './App.scss';\nimport { HomePage } from './components/HomePage/HomePage';\nimport { Header } from './components/Header/Header';\nimport { NotFoundPage } from './components/NotFoundPage/NotFoundPage';\nimport { PeoplePage } from './components/PeoplePage/PeoplePage';\n\nconst App = () => (\n  <div className=\"App\">\n    <Header />\n    <div className=\"container\">\n      <h1 className=\"title\">\n        People table\n      </h1>\n      <Switch>\n        <Route path=\"/\" exact>\n          <HomePage />\n        </Route>\n        <Route path=\"/people\">\n          <PeoplePage />\n        </Route>\n\n        <Redirect\n          to=\"/\"\n          path=\"/home\"\n        />\n\n        <NotFoundPage />\n      </Switch>\n    </div>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bulma/css/bulma.css'\n\nimport App from './App';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}